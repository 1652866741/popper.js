/**
 * @fileOverview Kickass library to create tooltips in your applications.
 * @version 1.0.0-alpha.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */    
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('popper.js')) :
  typeof define === 'function' && define.amd ? define(['popper.js'], factory) :
  (global.Tooltip = factory(global.Popper));
}(this, (function (Popper) { 'use strict';

Popper = 'default' in Popper ? Popper['default'] : Popper;

function isFunction(a){return a&&'[object Function]'==={}.toString.call(a)}

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

















var set = function set(object, property, value, receiver) {
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent !== null) {
      set(parent, property, value, receiver);
    }
  } else if ("value" in desc && desc.writable) {
    desc.value = value;
  } else {
    var setter = desc.set;

    if (setter !== undefined) {
      setter.call(receiver, value);
    }
  }

  return value;
};

var DEFAULT_OPTIONS={container:!1,delay:0,html:!1,placement:'top',title:'',template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',offset:0};var Tooltip=function(){function Tooltip(c,d){classCallCheck(this,Tooltip),_initialiseProps.call(this),d=Object.assign({},DEFAULT_OPTIONS,d),c.jquery&&(c=c[0]),this.reference=c,this.options=d;var e='string'==typeof d.trigger?d.trigger.split(' ').filter(function(f){return-1!==['click','hover','focus'].indexOf(f)}):[];this._isOpen=!1,this._setEventListeners(c,e,d);}return createClass(Tooltip,[{key:'_create',value:function _create(c,d,e,f){var g=window.document.createElement('div');g.innerHTML=d;var h=g.childNodes[0],i=g.querySelector(this.innerSelector);if(1===e.nodeType)f&&i.appendChild(e);else if(isFunction(e)){var j=e.call(c);f?i.innerHTML=j:i.innerText=j;}else f?i.innerHTML=e:i.innerText=e;return h}},{key:'_show',value:function _show(c,d){if(this._isOpen)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.display='',this.popperInstance.update(),this;var e=c.getAttribute('title')||d.title;if(!e)return this;var f=this._create(c,d.template,e,d.html),g=!1===d.container?c.parentNode:d.container;this._append(f,g);var h={placement:d.placement,arrowElement:this.arrowSelector};return d.boundariesElement&&(h.boundariesElement=d.boundariesElement),this.popperInstance=new Popper(c,f,h),this._tooltipNode=f,this}},{key:'_hide',value:function _hide(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.display='none',this):this}},{key:'_dispose',value:function _dispose(){var _this=this;return this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this._events.forEach(function(_ref){var c=_ref.func,d=_ref.event;_this._tooltipNode.removeEventListener(d,c);}),this._events=[],this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}},{key:'_findContainer',value:function _findContainer(c){return'string'==typeof c?c=window.document.querySelector(c):!1===c&&(c=window.document.body),c}},{key:'_append',value:function _append(c,d){d.appendChild(c);}},{key:'_setEventListeners',value:function _setEventListeners(c,d,e){var _this2=this,f=d.map(function(h){switch(h){case'hover':return'mouseenter';case'focus':return'focus';case'click':return'click';default:}}),g=d.map(function(h){switch(h){case'hover':return'mouseleave';case'focus':return'blur';case'click':return'click';default:}}).filter(function(h){return!!h});f.forEach(function(h){var i=function i(j){!0===_this2._isOpen||(j.usedByTooltip=!0,_this2._scheduleShow(c,e.delay,e,j));};_this2._events.push({event:h,func:i}),c.addEventListener(h,i);}),g.forEach(function(h){var i=function i(j){!0===j.usedByTooltip||_this2._scheduleHide(c,e.delay,e,j);};_this2._events.push({event:h,func:i}),c.addEventListener(h,i);});}},{key:'_scheduleShow',value:function _scheduleShow(c,d,e){var _this3=this,f=d&&d.show||d||0;window.setTimeout(function(){return _this3._show(c,e)},f);}},{key:'_scheduleHide',value:function _scheduleHide(c,d,e,f){var _this4=this,g=d&&d.hide||d||0;window.setTimeout(function(){if(!1!==_this4._isOpen&&document.body.contains(_this4._tooltipNode)){if('mouseleave'===f.type){var h=_this4._setTooltipNodeEvent(f,c,d,e);if(h)return}_this4._hide(c,e);}},g);}},{key:'_isElOrChildOfEl',value:function _isElOrChildOfEl(c,d){return c===d||d.contains(c)}}]),Tooltip}();var _initialiseProps=function _initialiseProps(){var _this5=this;this.show=function(){return _this5._show(_this5.reference,_this5.options)},this.hide=function(){return _this5._hide()},this.dispose=function(){return _this5._dispose()},this.toggle=function(){return _this5._isOpen?_this5.hide():_this5.show()},this.arrowSelector='.tooltip-arrow, .tooltip__arrow',this.innerSelector='.tooltip-inner, .tooltip__inner',this._events=[],this._setTooltipNodeEvent=function(c,d,e,f){var g=c.relatedreference||c.toElement,h=function h(i){var j=i.relatedreference||i.toElement;_this5._tooltipNode.removeEventListener(c.type,h),_this5._isElOrChildOfEl(j,d)||_this5._scheduleHide(d,f.delay,f,i);};return!!_this5._isElOrChildOfEl(g,_this5._tooltipNode)&&(_this5._tooltipNode.addEventListener(c.type,h),!0)};};

return Tooltip;

})));
//# sourceMappingURL=tooltip.min.js.map
